<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üß† Migraine Management</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üß†</text></svg>">
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            margin: 0;
            padding: 20px;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        
        .container {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            max-width: 600px;
            width: 100%;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            text-align: center;
        }
        
        .header {
            background: linear-gradient(135deg, #4CAF50, #45a049);
            color: white;
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 30px;
        }
        
        .header h1 {
            margin: 0;
            font-size: 24px;
            font-weight: 600;
        }
        
        .question {
            font-size: 20px;
            font-weight: 600;
            color: #333;
            margin-bottom: 25px;
            line-height: 1.4;
        }
        
        .options {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin-bottom: 25px;
        }
        
        .btn {
            padding: 18px 25px;
            font-size: 16px;
            font-weight: 500;
            border: none;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            color: white;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }
        
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
        }
        
        .btn-primary {
            background: linear-gradient(135deg, #667eea, #764ba2);
        }
        
        .btn-secondary {
            background: linear-gradient(135deg, #f093fb, #f5576c);
        }
        
        .btn-success {
            background: linear-gradient(135deg, #4CAF50, #45a049);
        }
        
        .btn-warning {
            background: linear-gradient(135deg, #ff9a9e, #fecfef);
            color: #333;
        }
        
        .action-item {
            background: linear-gradient(135deg, #a8edea, #fed6e3);
            color: #333;
            padding: 20px;
            border-radius: 15px;
            margin: 15px 0;
            text-align: left;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }
        
        .action-item h3 {
            margin: 0 0 10px 0;
            color: #2c3e50;
            font-size: 18px;
        }
        
        .action-item p {
            margin: 5px 0;
            line-height: 1.5;
        }
        
        .back-btn {
            background: linear-gradient(135deg, #95a5a6, #7f8c8d);
            margin-top: 20px;
        }
        
        .restart-btn {
            background: linear-gradient(135deg, #3498db, #2980b9);
            margin-top: 15px;
        }
        
        .medication-warning {
            background: linear-gradient(135deg, #ffecd2, #fcb69f);
            color: #d35400;
            padding: 15px;
            border-radius: 10px;
            margin: 15px 0;
            font-weight: 500;
        }
        
        .timer {
            background: linear-gradient(135deg, #74b9ff, #0984e3);
            color: white;
            padding: 15px;
            border-radius: 10px;
            margin: 15px 0;
            font-weight: 500;
        }
        
        .progress-bar {
            background: #ecf0f1;
            height: 8px;
            border-radius: 4px;
            margin: 20px 0;
            overflow: hidden;
        }
        
        .progress-fill {
            background: linear-gradient(135deg, #4CAF50, #45a049);
            height: 100%;
            transition: width 0.3s ease;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üß† Migraine Management Guide</h1>
            <p>Your personalized decision tree for migraine relief</p>
        </div>
        
        <div id="step-container">
            <!-- Content will be dynamically populated -->
        </div>
        
        <div class="progress-bar">
            <div class="progress-fill" id="progress" style="width: 0%"></div>
        </div>
    </div>

    <script>
        let currentStep = 'start';
        let userResponses = {};
        
        const steps = {
            start: {
                question: "How are you feeling right now?",
                options: [
                    { text: "I'm having a migraine attack", action: "severity" },
                    { text: "I feel a migraine coming on (prodrome)", action: "early_intervention" },
                    { text: "I want to plan for prevention", action: "prevention_check" }
                ]
            },
            
            severity: {
                question: "How severe is your migraine right now? (1-10 scale)",
                options: [
                    { text: "Mild (1-3) - I can function with some difficulty", action: "mild_treatment" },
                    { text: "Moderate (4-6) - Significant impact on activities", action: "moderate_treatment" },
                    { text: "Severe (7-10) - Unable to function normally", action: "severe_treatment" }
                ]
            },
            
            early_intervention: {
                question: "Great catch! Early intervention is key. What prodrome symptoms are you experiencing?",
                options: [
                    { text: "Mood changes, food cravings, neck stiffness", action: "prodrome_actions" },
                    { text: "Visual changes or aura symptoms", action: "aura_actions" },
                    { text: "Just a 'feeling' that one is coming", action: "general_prevention" }
                ]
            },
            
            mild_treatment: {
                question: "For mild migraine, let's start with gentle interventions. Have you taken medication recently?",
                options: [
                    { text: "No medication in the last 3 days", action: "mild_med_ok" },
                    { text: "Took Naproxen 1-2 days ago", action: "mild_alternative" },
                    { text: "Have been taking pain meds for several days", action: "rebound_risk" }
                ]
            },
            
            moderate_treatment: {
                question: "For moderate migraine, we need more comprehensive treatment. Medication status?",
                options: [
                    { text: "Haven't taken pain medication recently", action: "moderate_med_plan" },
                    { text: "Already took some medication, not helping much", action: "moderate_escalate" },
                    { text: "Concerned about medication overuse", action: "non_med_focus" }
                ]
            },
            
            severe_treatment: {
                question: "This is a severe attack. Safety and comfort are priority. Are you in a safe place?",
                options: [
                    { text: "Yes, I'm at home and can rest", action: "severe_home_care" },
                    { text: "I'm at work/public place", action: "severe_away_care" },
                    { text: "I need immediate medical attention", action: "emergency_care" }
                ]
            }
        };
        
        const actions = {
            mild_med_ok: {
                title: "Mild Migraine Treatment Plan",
                content: `
                    <h3>üíä Medication</h3>
                    <p>Take 2 Naproxen tablets (as per your usual protocol)</p>
                    
                    <h3>üåø Immediate Comfort Measures</h3>
                    <p>‚Ä¢ Find a quiet, dark room</p>
                    <p>‚Ä¢ Apply cold compress to forehead or neck</p>
                    <p>‚Ä¢ Drink a full glass of water</p>
                    <p>‚Ä¢ Use your Allay green light therapy lamp (20-60 minutes)</p>
                    
                    <h3>‚ö° Nerivio Device</h3>
                    <p>Consider using Nerivio for acute treatment (follow device instructions)</p>
                    
                    <h3>‚è∞ Next Steps</h3>
                    <p>Re-evaluate in 2 hours. If no improvement, consider escalating treatment.</p>
                `,
                progress: 70
            },
            
            mild_alternative: {
                title: "Alternative Treatment for Mild Migraine",
                content: `
                    <h3>üíä Medication Alternative</h3>
                    <p>Since you took Naproxen recently, try: Tylenol + Ibuprofen combination</p>
                    <p>This helps avoid potential rebound headaches</p>
                    
                    <h3>üåø Enhanced Comfort Measures</h3>
                    <p>‚Ä¢ Dark, quiet environment</p>
                    <p>‚Ä¢ Cold compress (15-20 minutes)</p>
                    <p>‚Ä¢ Hydration - drink 16-20 oz water slowly</p>
                    <p>‚Ä¢ Allay green light therapy</p>
                    <p>‚Ä¢ Gentle neck stretches if tolerated</p>
                    
                    <h3>‚ö° Nerivio Treatment</h3>
                    <p>Use Nerivio device for acute migraine treatment</p>
                `,
                progress: 70
            },
            
            moderate_med_plan: {
                title: "Moderate Migraine - Comprehensive Treatment",
                content: `
                    <h3>üíä Medication Protocol</h3>
                    <p>Take 2 Naproxen tablets immediately</p>
                    
                    <h3>üõ°Ô∏è Full Migraine Protocol</h3>
                    <p>‚Ä¢ Immediate: Dark room, minimal stimulation</p>
                    <p>‚Ä¢ Hydration: 20-24 oz water over 30 minutes</p>
                    <p>‚Ä¢ Cold therapy: Ice pack to head/neck for 15-20 min</p>
                    <p>‚Ä¢ Allay green light: 30-60 minute session</p>
                    
                    <h3>‚ö° Nerivio Device</h3>
                    <p>Use Nerivio for acute treatment - this can be very effective for moderate attacks</p>
                    
                    <h3>üì± Track This Attack</h3>
                    <p>Log in N1-Headache app: severity, triggers, treatments used</p>
                    
                    <h3>‚è∞ Timeline</h3>
                    <p>Re-assess in 2 hours. If worsening or no improvement, consider rest of day off</p>
                `,
                progress: 80
            },
            
            severe_home_care: {
                title: "Severe Migraine - Home Management",
                content: `
                    <h3>üö® Immediate Priority Actions</h3>
                    <p>‚Ä¢ Cancel non-essential activities for today</p>
                    <p>‚Ä¢ Inform family/housemates you need quiet</p>
                    <p>‚Ä¢ Turn off all electronic devices</p>
                    
                    <h3>üíä Medication</h3>
                    <p>Take your usual Naproxen (2 tablets) if not taken recently</p>
                    <p>If already medicated, avoid additional doses for now</p>
                    
                    <h3>üõèÔ∏è Comfort Protocol</h3>
                    <p>‚Ä¢ Darkest room possible</p>
                    <p>‚Ä¢ Cool, damp cloth on forehead</p>
                    <p>‚Ä¢ Comfortable position (often side-lying works best)</p>
                    <p>‚Ä¢ Use Allay green light if you can tolerate any light</p>
                    
                    <h3>‚ö° Nerivio Device</h3>
                    <p>Definitely use Nerivio - it can be particularly effective for severe attacks</p>
                    
                    <h3>‚è∞ Recovery Plan</h3>
                    <p>Plan for 4-6 hours of complete rest. Set gentle alarm to check status.</p>
                `,
                progress: 90
            },
            
            rebound_risk: {
                title: "Medication Overuse - Alternative Approach",
                content: `
                    <div class="medication-warning">
                    ‚ö†Ô∏è You may be at risk for medication overuse headaches. Let's try non-medication approaches first.
                    </div>
                    
                    <h3>üåø Non-Medication Strategies</h3>
                    <p>‚Ä¢ Hydration: 24+ oz water over next hour</p>
                    <p>‚Ä¢ Cold/heat therapy alternating every 15 minutes</p>
                    <p>‚Ä¢ Allay green light therapy - extended session</p>
                    <p>‚Ä¢ Gentle movement if possible (slow walking)</p>
                    
                    <h3>‚ö° Nerivio Device</h3>
                    <p>This is perfect timing for Nerivio - non-pharmaceutical option</p>
                    
                    <h3>üßò Mind-Body Techniques</h3>
                    <p>‚Ä¢ Progressive muscle relaxation</p>
                    <p>‚Ä¢ Deep breathing exercises</p>
                    <p>‚Ä¢ Meditation apps if tolerated</p>
                    
                    <h3>üìû Consider Medical Contact</h3>
                    <p>If this pattern continues, discuss with your migraine specialist about rescue medications</p>
                `,
                progress: 85
            },
            
            prodrome_actions: {
                title: "Early Intervention - Prodrome Phase",
                content: `
                    <h3>üéØ Excellent Timing!</h3>
                    <p>Catching migraine in prodrome phase gives you the best chance of prevention</p>
                    
                    <h3>‚ö° Immediate Actions</h3>
                    <p>‚Ä¢ Use Nerivio device immediately (prevention mode)</p>
                    <p>‚Ä¢ Increase water intake significantly</p>
                    <p>‚Ä¢ Light meal if experiencing cravings</p>
                    <p>‚Ä¢ Gentle neck/shoulder stretches</p>
                    
                    <h3>üåø Environmental Modifications</h3>
                    <p>‚Ä¢ Reduce bright lights and loud sounds</p>
                    <p>‚Ä¢ Cancel stressful activities if possible</p>
                    <p>‚Ä¢ Plan lighter schedule for next 24 hours</p>
                    
                    <h3>üíä Medication Decision</h3>
                    <p>Consider taking Naproxen now if you haven't used it recently - early treatment is often more effective</p>
                    
                    <h3>üì± Track This</h3>
                    <p>Log prodrome symptoms in N1-Headache app to identify patterns</p>
                `,
                progress: 60
            },
            
            prevention_check: {
                title: "Prevention Strategy Review",
                content: `
                    <h3>üõ°Ô∏è Your Current Prevention Plan</h3>
                    <p>‚Ä¢ Quarterly Botox injections</p>
                    <p>‚Ä¢ Memantine 20mg daily (started May 2025)</p>
                    <p>‚Ä¢ Nerivio device (every other day prevention)</p>
                    
                    <h3>üìä Tracking & Analysis</h3>
                    <p>‚Ä¢ Continue N1-Headache app logging</p>
                    <p>‚Ä¢ Note any changes since starting memantine</p>
                    <p>‚Ä¢ Track Allay green light therapy effectiveness</p>
                    
                    <h3>üéØ Trigger Management</h3>
                    <p>‚Ä¢ Alcohol: Complete avoidance during trial period</p>
                    <p>‚Ä¢ Sleep: Consistent schedule, even weekends</p>
                    <p>‚Ä¢ Travel: Pre-travel Nerivio, hydration protocol</p>
                    
                    <h3>üìÖ Questions for Next Specialist Visit</h3>
                    <p>‚Ä¢ Memantine effectiveness timeline expectations</p>
                    <p>‚Ä¢ Combination therapy optimization</p>
                    <p>‚Ä¢ Emergency rescue medication options</p>
                `,
                progress: 100
            },
            
            moderate_escalate: {
                title: "Moderate Migraine - Treatment Enhancement",
                content: `
                    <h3>üíä Additional Support</h3>
                    <p>Since current medication isn't helping much:</p>
                    <p>‚Ä¢ Wait 30 more minutes before additional medication</p>
                    <p>‚Ä¢ Or switch to Tylenol + Ibuprofen combination</p>
                    
                    <h3>üåø Enhanced Non-Med Protocol</h3>
                    <p>‚Ä¢ Complete sensory rest (dark, quiet, cool)</p>
                    <p>‚Ä¢ Extended Allay green light session</p>
                    <p>‚Ä¢ Ice pack rotation: head, neck, shoulders</p>
                    <p>‚Ä¢ Increase hydration significantly</p>
                    
                    <h3>‚ö° Nerivio Treatment</h3>
                    <p>Use Nerivio device - can provide additional relief</p>
                    
                    <h3>‚ö†Ô∏è Escalation Plan</h3>
                    <p>If no improvement in 2 hours, treat as severe attack</p>
                `,
                progress: 80
            },
            
            non_med_focus: {
                title: "Non-Medication Focus Protocol",
                content: `
                    <h3>üåø Comprehensive Non-Med Approach</h3>
                    <p>Smart choice to avoid medication overuse</p>
                    
                    <h3>‚ö° Device Therapy</h3>
                    <p>‚Ä¢ Nerivio device for acute treatment</p>
                    <p>‚Ä¢ Extended Allay green light sessions</p>
                    
                    <h3>üßä Physical Interventions</h3>
                    <p>‚Ä¢ Cold therapy cycles (20 min on, 10 min off)</p>
                    <p>‚Ä¢ Gentle neck/shoulder massage</p>
                    <p>‚Ä¢ Progressive muscle relaxation</p>
                    
                    <h3>üíß Hydration Protocol</h3>
                    <p>‚Ä¢ 24+ oz water over next hour</p>
                    <p>‚Ä¢ Continue steady intake</p>
                    
                    <h3>üè† Environment</h3>
                    <p>‚Ä¢ Complete darkness or Allay light only</p>
                    <p>‚Ä¢ Cool, quiet space</p>
                    <p>‚Ä¢ Comfortable positioning</p>
                `,
                progress: 75
            },
            
            severe_away_care: {
                title: "Severe Migraine - Away From Home",
                content: `
                    <h3>üöó Priority: Get Home Safely</h3>
                    <p>‚Ä¢ Do NOT drive yourself</p>
                    <p>‚Ä¢ Call someone for transportation</p>
                    <p>‚Ä¢ Use rideshare if necessary</p>
                    
                    <h3>‚ö° Immediate Actions</h3>
                    <p>‚Ä¢ Find darkest, quietest space available</p>
                    <p>‚Ä¢ Use Nerivio device now</p>
                    <p>‚Ä¢ Take medication if available</p>
                    
                    <h3>üè¢ If You Must Stay</h3>
                    <p>‚Ä¢ Find private room or quiet space</p>
                    <p>‚Ä¢ Inform colleagues/supervisor</p>
                    <p>‚Ä¢ Use any available cold source</p>
                    <p>‚Ä¢ Minimize all activities</p>
                    
                    <h3>üìû Get Support</h3>
                    <p>‚Ä¢ Contact emergency contact</p>
                    <p>‚Ä¢ Arrange coverage for responsibilities</p>
                `,
                progress: 85
            },
            
            emergency_care: {
                title: "Emergency Medical Attention",
                content: `
                    <h3>üö® When to Seek Immediate Care</h3>
                    
                    <h3>üè• Go to ER if you have:</h3>
                    <p>‚Ä¢ Sudden, severe headache unlike any before</p>
                    <p>‚Ä¢ Headache with fever, stiff neck, confusion</p>
                    <p>‚Ä¢ Headache after head injury</p>
                    <p>‚Ä¢ Vision loss, weakness, speech problems</p>
                    
                    <h3>üìû Call 911 if:</h3>
                    <p>‚Ä¢ Difficulty speaking or understanding</p>
                    <p>‚Ä¢ Weakness on one side</p>
                    <p>‚Ä¢ Severe confusion</p>
                    <p>‚Ä¢ High fever with headache</p>
                    
                    <h3>üìã Bring to Hospital:</h3>
                    <p>‚Ä¢ Current medication list</p>
                    <p>‚Ä¢ N1-Headache app data</p>
                    <p>‚Ä¢ Emergency contacts</p>
                    <p>‚Ä¢ Insurance information</p>
                    
                    <div class="medication-warning">
                    üö® Trust your instincts. If this feels different or dangerous, seek immediate care.
                    </div>
                `,
                progress: 100
            },
            
            aura_actions: {
                title: "Aura Response Protocol",
                content: `
                    <h3>‚ö° Act Fast During Aura</h3>
                    <p>You have a narrow window for prevention</p>
                    
                    <h3>üíä Immediate Medication</h3>
                    <p>Take 2 Naproxen RIGHT NOW if available</p>
                    <p>Don't wait for pain to start</p>
                    
                    <h3>‚ö° Device Activation</h3>
                    <p>‚Ä¢ Start Nerivio device immediately</p>
                    <p>‚Ä¢ Begin Allay green light therapy</p>
                    
                    <h3>üåø Rapid Environmental Control</h3>
                    <p>‚Ä¢ Get to darkest available space</p>
                    <p>‚Ä¢ Reduce all sensory input</p>
                    <p>‚Ä¢ Drink 12-16 oz water quickly</p>
                    
                    <h3>üì± Quick Actions</h3>
                    <p>‚Ä¢ Cancel next 4-6 hours of activities</p>
                    <p>‚Ä¢ Alert others about potential migraine</p>
                    
                    <div class="timer">
                    ‚ö° Time is critical - every minute counts during aura!
                    </div>
                `,
                progress: 85
            },
            
            general_prevention: {
                title: "General Prevention Protocol",
                content: `
                    <h3>üéØ Trust Your Body's Signals</h3>
                    <p>Your intuition about incoming migraines is valuable</p>
                    
                    <h3>‚ö° Device Prevention</h3>
                    <p>‚Ä¢ Use Nerivio in prevention mode</p>
                    <p>‚Ä¢ Start Allay green light therapy</p>
                    
                    <h3>üíä Medication Decision</h3>
                    <p>Consider early Naproxen if you haven't used it recently</p>
                    <p>Early treatment is often more effective</p>
                    
                    <h3>üåø Supportive Measures</h3>
                    <p>‚Ä¢ Increase hydration significantly</p>
                    <p>‚Ä¢ Reduce environmental triggers</p>
                    <p>‚Ä¢ Lighten today's activities</p>
                    <p>‚Ä¢ Avoid known triggers</p>
                    
                    <h3>üì± Documentation</h3>
                    <p>Log prodrome feelings in N1-Headache app</p>
                    <p>Track prevention attempts and outcomes</p>
                `,
                progress: 70
            }
        };
        
        function showStep(stepId) {
            const container = document.getElementById('step-container');
            const progressBar = document.getElementById('progress');
            
            if (steps[stepId]) {
                const step = steps[stepId];
                container.innerHTML = `
                    <div class="question">${step.question}</div>
                    <div class="options">
                        ${step.options.map(option => 
                            `<button class="btn btn-primary" onclick="handleChoice('${option.action}')">${option.text}</button>`
                        ).join('')}
                    </div>
                    ${stepId !== 'start' ? '<button class="btn back-btn" onclick="goBack()">‚Üê Go Back</button>' : ''}
                `;
                progressBar.style.width = '30%';
            } else if (actions[stepId]) {
                const action = actions[stepId];
                container.innerHTML = `
                    <div class="action-item">
                        ${action.content}
                    </div>
                    <button class="btn restart-btn" onclick="restart()">üîÑ Start Over</button>
                    <button class="btn back-btn" onclick="goBack()">‚Üê Go Back</button>
                `;
                progressBar.style.width = action.progress + '%';
            }
            
            currentStep = stepId;
        }
        
        function handleChoice(action) {
            userResponses[currentStep] = action;
            showStep(action);
        }
        
        function goBack() {
            if (currentStep !== 'start') {
                showStep('start');
            }
        }
        
        function restart() {
            currentStep = 'start';
            userResponses = {};
            showStep('start');
        }
        
        // Initialize the app
        showStep('start');
    </script>
</body>
</html>